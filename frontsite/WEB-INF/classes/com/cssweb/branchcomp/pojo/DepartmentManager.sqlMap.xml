<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
		"http://www.ibatis.com/dtd/sql-map-2.dtd">
<!-- iBatis SQL Map 文件 -->
<sqlMap namespace="com.cssweb.branchcomp.pojo.DepartmentManager">

	<typeAlias alias="DepartmentManager" type="com.cssweb.branchcomp.pojo.DepartmentManager" />

	<resultMap id="DepartmentManagerMap" class="DepartmentManager">
		<result property="id" column="ID" jdbcType="Long"/>
		<result property="name" column="NAME" jdbcType="String"/>
		<result property="phone" column="PHONE" jdbcType="String"/>
		<result property="mobile" column="MOBILE" jdbcType="String"/>
		<result property="qq" column="QQ" jdbcType="String"/>
		<result property="email" column="EMAIL" jdbcType="String"/>
		<result property="branchno" column="BRANCH_NO" jdbcType="Long"/>
		<result property="picsource" column="PICSOURCE" jdbcType="BLOB"/>
		<result property="intro" column="INTRO" jdbcType="String"/>
	</resultMap>
	
		<resultMap id="DepartmentManagerMap2" class="DepartmentManager">
		<result property="id" column="ID" jdbcType="Long"/>
		<result property="name" column="NAME" jdbcType="String"/>
		<result property="phone" column="PHONE" jdbcType="String"/>
		<result property="mobile" column="MOBILE" jdbcType="String"/>
		<result property="qq" column="QQ" jdbcType="String"/>
		<result property="email" column="EMAIL" jdbcType="String"/>
		<result property="branchno" column="BRANCH_NO" jdbcType="Long"/>
		<result property="intro" column="INTRO" jdbcType="String"/>
	</resultMap>

<insert id="insertInfo" parameterClass="DepartmentManager">
INSERT INTO T_BC_DEPARTMENT_MANAGER (ID,NAME,PHONE,MOBILE,QQ,EMAIL,BRANCH_NO,PICSOURCE,INTRO)
VALUES (seq_t_bc_department_M.NEXTVAL,#name#,#phone#,#mobile#,#qq#,#email#,#branchno#,empty_blob(),#intro#)
	
	<selectKey resultClass="long" keyProperty="id" > 
	SELECT seq_t_bc_department_M.Currval as id FROM dual
    </selectKey>
	</insert>
	
<delete id="deleteInfo" parameterClass="String">
		delete from T_bc_department_manager where ID in (#value#)
	</delete>
	
	<update id="updateInfo" parameterClass="DepartmentManager" >
		update T_bc_department_manager set NAME=#name#,PHONE=#phone#,MOBILE=#mobile#,QQ=#qq#,EMAIL=#email#,BRANCH_NO=#branchno#,INTRO=#intro# WHERE ID=#id#
	</update>
	
	
		<update id="updateBolbInfoById" parameterClass="java.util.Map" >
		update T_bc_department_manager set PICSOURCE=#pic# WHERE ID=#id#
	</update>
	
	<select id="getAllInfo" resultMap="DepartmentManagerMap">
		select * from T_bc_department_manager
	</select>
	
	<select id="getInfoById" resultMap="DepartmentManagerMap" parameterClass="Long">
		select * from T_bc_department_manager  where ID=#id#
	</select>
	
		<select id="getAllInfoCountByMap" parameterClass="java.util.Map" resultClass="int">
		$sql$
	</select>
	
	<select id="getTopId" parameterClass="java.util.Map"  resultClass="int">
		$sql$
	</select>
	
	 <select id="getByPagingMap" parameterClass="java.util.Map" resultMap = "DepartmentManagerMap2">
    SELECT * FROM ( SELECT row_.*, ROWNUM rownum_ FROM ( $sql$ )
		row_ WHERE ROWNUM &lt;= #end# ) WHERE rownum_ &gt;#begin# ORDER BY ID DESC
  </select>
	
</sqlMap>
