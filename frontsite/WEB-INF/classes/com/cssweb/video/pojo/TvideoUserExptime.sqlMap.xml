<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
		"http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- iBatis SQL Map 文件 -->
<sqlMap namespace="com.cssweb.video.pojo.TvideoUserExptime">

	<typeAlias alias="TvideoUserExptime" type="com.cssweb.video.pojo.TvideoUserExptime" />

	<resultMap id="TvideoUserExptime" class="TvideoUserExptime">
		<result property="userId" column="USER_ID" jdbcType="Long"/>
		<result property="beginTime" column="BEGIN_TIME" jdbcType="Date"/>
	</resultMap>

	<insert id="insertTvideoUserExptime" parameterClass="TvideoUserExptime">
		INSERT into T_VIDEO_USER_EXPTIME ( USER_ID, BEGIN_TIME) VALUES (#userId#,#beginTime#)
	</insert>	

	<select id="getUserExptimeCount" resultClass="java.lang.Integer" parameterClass="Long">
	  select TRUNC(sysdate - BEGIN_TIME) T from T_VIDEO_USER_EXPTIME where USER_ID=#userId#
	</select>
	
	<select id="getTvideoUserExptimeByUserId" resultMap="TvideoUserExptime" parameterClass="Long">
	  select * from T_VIDEO_USER_EXPTIME where USER_ID=#userId#
	</select>
</sqlMap>
